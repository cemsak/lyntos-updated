rule_id: K-13
name: "E-imza Tarih Uyumu"
name_tr: "Belge Tarihi ile E-imza Tarihi Kontrolu"
version: "1.0.0"
category: "KURGAN"
priority: "MEDIUM"
severity: "MEDIUM"
description: |
  Belge tarihi ile elektronik imza tarihi arasindaki uyumu kontrol eder.

legal_basis_refs:
  - "HMB Genelge 18.04.2025"
  - "VUK m.242"

inputs:
  - name: e_fatura_tarihi
    type: date
    required: true
    source: "e_fatura"
  - name: e_imza_tarihi
    type: date
    required: true
    source: "e_fatura"

algorithm: |
  # Requires e-invoice signature timestamp
  # Check if signature date is significantly after invoice date
  status = 'pending'
  score = 0

outputs:
  - name: status
    type: string
    enum: ['pass', 'fail', 'warning', 'pending']
  - name: score
    type: integer
    range: [0, 10]

test_cases:
  - name: "Veri eksik"
    inputs: {e_fatura_tarihi: null, e_imza_tarihi: null}
    expected: {status: "pending", score: 0}
  - name: "Tarihler uyumlu"
    inputs: {e_fatura_tarihi: "2025-01-15", e_imza_tarihi: "2025-01-15"}
    expected: {status: "pass", score: 0}

created_at: "2026-01-05T00:00:00Z"
updated_at: "2026-01-05T00:00:00Z"
