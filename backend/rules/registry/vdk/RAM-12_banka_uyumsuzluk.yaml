rule_id: RAM-12
name: "Banka Hesap Uyumsuzlugu"
name_tr: "Bilanco-Fiili Banka Farki"
version: "1.0.0"
category: "RAM"
priority: "CRITICAL"
severity: "CRITICAL"
description: |
  Bilanco banka bakiyesi ile fiili bakiye arasinda 50.000 TL'yi asan farki kontrol eder.

legal_basis_refs:
  - "VDK Risk Analizi Modeli (RAM)"
  - "VUK m.171"

inputs:
  - name: banka_bilanco
    type: decimal
    required: true
    source: "mizan"
    account: "102"
  - name: banka_fiili
    type: decimal
    required: true
    source: "banka"

algorithm: |
  fark = abs(banka_bilanco - banka_fiili)
  if fark > 50000:
    status = 'fail'
    score = 30
    recommendation = "ACIL: Banka mutabakati yapilmali."
  else:
    status = 'pass'
    score = 0

thresholds:
  banka_fark_limit: 50000

outputs:
  - name: status
    type: string
    enum: ['pass', 'fail', 'warning', 'pending']
  - name: score
    type: integer
    range: [0, 30]
  - name: banka_fark
    type: decimal

test_cases:
  - name: "Buyuk fark"
    inputs: {banka_bilanco: 300000, banka_fiili: 200000}
    expected: {status: "fail", score: 30}
  - name: "Normal"
    inputs: {banka_bilanco: 300000, banka_fiili: 280000}
    expected: {status: "pass", score: 0}

created_at: "2026-01-05T00:00:00Z"
updated_at: "2026-01-05T00:00:00Z"
