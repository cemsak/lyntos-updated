rule_id: R-320
name: "Borc Ozkaynak Orani"
version: "1.0.0"
category: "MIZAN"
priority: "MEDIUM"
description: |
  Borc/Ozkaynak oranini kontrol eder (finansal risk).

legal_basis_refs:
  - SRC-0001

inputs:
  - name: toplam_borc
    type: decimal
    required: true
    description: "Toplam borclar" 
  - name: ozkaynak
    type: decimal
    required: true
    description: "Toplam ozkaynak" 

algorithm: |
  oran = toplam_borc / ozkaynak if ozkaynak > 0 else 999
  if oran > 3:
    status = 'warning'
  else:
    status = 'ok'

thresholds:
  warning: 3
  error: 5

evidence_required:
  - bilanco.pdf

test_cases:
  - name: "Normal"
    inputs:
      toplam_borc: 1000000
      ozkaynak: 500000
    expected:
      status: "ok"
  - name: "Yuksek"
    inputs:
      toplam_borc: 2000000
      ozkaynak: 500000
    expected:
      status: "warning"

created_at: "2026-01-01T00:00:00Z"
updated_at: "2026-01-01T00:00:00Z"
